<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %>: Quiccars</title>
    <link rel="stylesheet" href="allstyles.css">
    <link rel="stylesheet" type="text/css" href="products.css">
</head>
<body>
    <%- include('Navbar') %>
    <section>
    <div class="container mt-5">
        <div class="listing-info mb-4">
            <h1><%= title %></h1>
            <p>Posted at <%= time %> by <%= name %></p>
        </div>
        
        <% if (files && Array.isArray(files) && files.length > 0) { %>
            <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    <% files.forEach((link, index) => { %>
                        <div class="carousel-item <%= index === 0 ? 'active' : '' %>">
                            <img src="<%= link.trim() %>" class="d-block w-100" alt="Image <%= index + 1 %>">
                        </div>
                    <% }); %>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        <% } else { %>
            <p class="mt-4">No images available</p>
        <% } %>
        
        <div class="pricing mt-4">
            <p>Price: <%= price %></p>
            <p>Negotiable: <%= negotiable %></p>
        </div>
        <div class="location mt-4">
            <p>Location: <%= location %></p>
        </div>
        <div class="vehicle-details mt-4">
            <p>Make: <%= make %></p>
            <p>Model: <%= model %></p>
            <p>Trim: <%= trim %></p>
            <p>Year: <%= year %></p>
            <p>Registration Year: <%= regYear %></p>
            <p>Plate: <%= plate %></p>
            <p>Mileage: <%= mileage %></p>
            <p>Condition: <%= condition %></p>
            <p>Exterior: <%= exterior %></p>
            <p>Interior: <%= interior %></p>
        </div>
        <div class="description mt-4">
            <p>Description:</p>
            <p><%= description %></p>
        </div>    
    </div>
</section>
</body>
</html>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Initialize the Bootstrap Carousel
        var myCarousel = document.getElementById('carouselExampleIndicators');
        var carousel = new bootstrap.Carousel(myCarousel, {
            interval: 5000, // Change slide every 5 seconds (optional)
            wrap: true // Allow carousel to loop (optional)
        });
    });
</script>

<style>
    section{
        margin:0;
        padding: 5px;
        top: 10px;
    }
    .carousel {
    max-height: 60vh; /* Maximum height of the carousel */
    overflow: hidden; /* Hide any overflow content */
    display: flex; /* Center the image horizontally and vertically */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
}
.carousel-inner {
    height: 100%; /* Set the height of the carousel inner container */
}
.carousel-inner img {
    object-fit: contain; /* Make the entire image fit within the carousel */
    max-width: 100%; /* Ensure the image doesn't exceed the container width */
    max-height: 100%; /* Ensure the image doesn't exceed the container height */
}
@media (max-width: 768px) { 
    section { padding: 10px; } 
    .carousel { max-height: 20vh; } 
    .carousel-inner img { max-height: 80%; } 
    .pricing, .location, .vehicle-details, 
    .description { margin-top: 2rem; } }
</style>
